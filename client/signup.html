<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <div>
      <h1>Sign Up Form</h1>
      <form>
        <h6>Username</h6>
        <input id="username" type="text" name="username" />
        <h6>Password</h6>
        <input id="password" type="password" name="password" />
        <button id="signupbutton" type="submit" onclick="signup()">
          Sign Up
        </button>
      </form>
    </div>

    <script>
      signup = () => {
        var url = "http://localhost:3000/todo/signup";
        fetch(url, {
          method: "POST",
          body: JSON.stringify({
            username: document.getElementById("username").value,
            password: document.getElementById("password").value,
          }),
          headers: {
            "Content-type": "application/json; chatset=UTF-8",
          },
        })
          .then((res) => {
            var p = res.json(); // Fetch the Json Form APIs
            if (res.status == 201) {
              window.location.href = "login.html";
            }
          })
          .catch((error) => {
            console.log(error);
          });
      };
    </script>
  </body>
</html>
